base on extended_image and auto_resized_image
